= provide(:title, "Edit #{resource_name.to_s.humanize}")

.register-box-body
  %h2.login-box-msg
    Edit
    = resource_name.to_s.humanize

  = simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
    = f.error_notification
    .form-inputs
      .form-group.has-feedback
        = f.input :email, label: false, required: true, autofocus: true do
          = f.input_field :email, placeholder: 'Email', class: 'form-control'
          %span.glyphicon.glyphicon-envelope.form-control-feedback
      - if devise_mapping.confirmable? && resource.pending_reconfirmation?
        %p
          Currently waiting confirmation for: #{resource.unconfirmed_email}
      .form-group.has-feedback
        = f.input :password, label: false, autocomplete: "off", hint: "leave it blank if you don't want to change it", required: false do
          = f.input_field :password, placeholder: 'Password', class: 'form-control'
          %span.glyphicon.glyphicon-lock.form-control-feedback
      .form-group.has-feedback
        = f.input :password_confirmation, label: false, required: false do
          = f.input_field :password_confirmation, placeholder: 'Password confirmation', class: 'form-control'
          %span.glyphicon.glyphicon-log-in.form-control-feedback
      .form-group.has-feedback
        = f.input :current_password, label: false, hint: "we need your current password to confirm your changes", required: true do
          = f.input_field :current_password, placeholder: 'Current password', class: 'form-control'
          %span.glyphicon.glyphicon-lock.form-control-feedback
    .row
      .col-xs-offset-8.col-xs-4
        .form-actions
          = f.button :submit, "Edit", class: "btn btn-primary btn-block btn-flat"
  %h3 Cancel my account
  %p
    Unhappy? #{link_to "Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete}
  = link_to "Back", :back
